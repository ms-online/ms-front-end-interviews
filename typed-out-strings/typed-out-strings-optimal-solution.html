<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>字符串——比较含退格的字符串-算法优化</title>
  </head>
  <body>
    <script>
      const string1 = 'abc#d'
      const string2 = 'abzz##d'

      var backspaceCompare = function (S, T) {
        let p1 = S.length - 1,
          p2 = T.length - 1
        while (p1 >= 0 || p2 >= 0) {
          if (S[p1] === '#' || T[p2] === '#') {
            if (S[p1] === '#') {
              let backCount = 2
              while (backCount > 0) {
                p1--
                backCount--

                if (S[p1] === '#') {
                  backCount += 2
                }
              }
            }
            if (T[p2] === '#') {
              let backCount = 2
              while (backCount > 0) {
                p2--
                backCount--
                if (T[p2] === '#') {
                  backCount += 2
                }
              }
            }
          } else {
            if (S[p1] !== T[p2]) {
              return false
            } else {
              p1--
              p2--
            }
          }
        }
        return true
      }
      console.log(backspaceCompare(string1, string2))
      //时间复杂度：O(a+b)
      //空间复杂度：O(1)
    </script>
  </body>
</html>
